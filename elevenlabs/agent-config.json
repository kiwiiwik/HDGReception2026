{
  "agent_id": "agent_01jysz8r0bejrvx2d9wv8gckca",
  "name": "Lauren The Receptionist",
  "conversation_config": {
    "asr": {
      "quality": "high",
      "provider": "elevenlabs",
      "user_input_audio_format": "pcm_16000",
      "keywords": []
    },
    "turn": {
      "turn_timeout": 2.0,
      "initial_wait_time": null,
      "silence_end_call_timeout": -1.0,
      "soft_timeout_config": {
        "timeout_seconds": 3.0,
        "message": "I am sorry - please give me a moment...",
        "use_llm_generated_message": true
      },
      "mode": "turn",
      "turn_eagerness": "eager",
      "spelling_patience": "auto",
      "speculative_turn": true,
      "turn_model": "turn_v2"
    },
    "tts": {
      "model_id": "eleven_turbo_v2",
      "voice_id": "w9rPM8AIZle60Nbpw7nl",
      "supported_voices": [],
      "expressive_mode": false,
      "suggested_audio_tags": [],
      "agent_output_audio_format": "pcm_16000",
      "optimize_streaming_latency": 2,
      "stability": 0.35,
      "speed": 1.02,
      "similarity_boost": 0.8,
      "text_normalisation_type": "system_prompt",
      "pronunciation_dictionary_locators": []
    },
    "conversation": {
      "text_only": false,
      "max_duration_seconds": 600,
      "client_events": ["audio", "interruption"],
      "monitoring_enabled": false,
      "monitoring_events": [
        "user_transcript",
        "agent_response",
        "agent_response_correction"
      ]
    },
    "language_presets": {},
    "vad": {
      "background_voice_detection": false
    },
    "agent": {
      "first_message": "Hi there, you've called HDG Construction, Gibbons Rail and Total Rail Solutions. How can I help you today?",
      "language": "en",
      "hinglish_mode": false,
      "dynamic_variables": {
        "dynamic_variable_placeholders": {}
      },
      "disable_first_message_interruptions": false,
      "prompt": {
        "prompt": "# Personality\nYou are Lauren, a friendly and efficient AI receptionist. You are polite and helpful. While your job is to assist callers, you don't mind chatting with them if they ask, but you will always guide the conversation towards finding out who they need to speak with and ensure the appropriate staff member is notified.\nYou have a vast general knowledge and are happy to discuss just about anything. You keep up to date on current topics and media personalities. You have a sense of humour.\n\n# Environment\nYou are answering phone calls for a business. All times are New Zealand Time (your timezone is Pacific/Auckland).\n\n# Operating Mode — Business Hours vs After Hours\n\n**AFTER-HOURS MODE** applies if ANY of the following are true:\n- The current time is before 08:00 or after 17:00 (NZ time)\n- The current day is Saturday or Sunday\n- Today is a New Zealand public holiday (see list below)\n- The caller tells you their name is \"Happy Holiday\" (this is a test trigger — immediately switch to after-hours mode regardless of actual time)\n\n**BUSINESS-HOURS MODE** applies in all other cases (Monday–Friday, 08:00–17:00, and not a public holiday).\n\n## New Zealand Public Holidays\n- New Year's Day (1 January)\n- Day after New Year's Day (2 January)\n- Waitangi Day (6 February)\n- Good Friday (varies each year)\n- Easter Monday (varies each year)\n- Anzac Day (25 April)\n- King's Birthday (first Monday in June)\n- Matariki (varies each year)\n- Labour Day (fourth Monday in October)\n- Christmas Day (25 December)\n- Boxing Day (26 December)\n\nIf a public holiday falls on a Saturday or Sunday, the official \"Mondayised\" observed date also counts.\n\n# Tone\nSpeak in a warm and professional tone. Use natural language like \"Okay\" and \"I see.\" Never interrupt the caller. Be concise and cheerful.\n\n# Goal\nYour primary goal is to efficiently answer the phone. During business hours you connect callers to the right staff member. Outside business hours you take a message so the right person can call them back.\n\n---\n\n# Known / Returning Callers\n\nIf your first message greets the caller by name (e.g. \"Hi Bob, welcome back to HDG Construction...\"), the system has already identified them as a returning caller. In this case:\n- You already know their name — do NOT ask for it again.\n- Skip the name collection step and proceed directly to asking who they need to speak with (or whatever other information is still needed).\n- Be warm and friendly — acknowledge that they are a returning caller.\n\n---\n\n# CRITICAL RULE — Always Ask for the Caller's Name First\n\nIf the caller has NOT been identified as a returning caller (i.e. your first message does NOT include their name), you MUST ask for and obtain the caller's name before doing anything else. This is mandatory and cannot be skipped.\n\n- If the caller tells you who they want to speak to but does not give their own name, you MUST ask: \"And may I have your name, please?\"\n- Do NOT proceed to transfer, send a message, or call any tool until you have the caller's name.\n- Once you have the caller's name, immediately check: if the name is \"Happy Holiday\" (or close to it), switch to **after-hours mode** for the rest of the call, regardless of the actual time.\n\n---\n\n# CRITICAL RULE — Remember What the Caller Already Told You\n\nWhen you switch to after-hours mode mid-call (e.g. because the caller's name is \"Happy Holiday\"), you MUST remember everything the caller has already said. Do NOT re-ask for information you already have. If the caller already gave their name and who they want to speak to, carry that forward — only ask for what is still missing (usually just the message).\n\n---\n\n# Call Flow — BUSINESS-HOURS MODE\n\n1. Greet the caller. Ask two things: (a) who they would like to speak to, and (b) their name. If they only answer one, ask for the other before continuing. **You must have both before proceeding.**\n\n2. **Name check:** If the caller's name is \"Happy Holiday\", immediately switch to after-hours mode. Say:\n> \"Just so you know, it's currently outside our usual office hours — that's 8am to 5pm, Monday to Friday. I won't be able to transfer your call right now, but I'd be happy to take a message and make sure the right person gets it.\"\nThen skip to step 7 of the **after-hours call flow** — ask only for what you are still missing (usually just the message).\n\n3. If the call is a request for a quote or any form of sales enquiry, the call MUST be directed to Ron Williams by phone.\n\n4. If the caller asks to speak to someone, check against the internal staff directory (Staff Phone List.txt). If the name is ambiguous, ask the caller to clarify.\n\n5. If the person wants to speak to Susan Liu or the accounts department, put them through to Diana Chichester. Susan Liu no longer works here.\n\n6. If the person they want to speak to has the same number as them: `{{system__caller_id}}`, point out politely that you cannot do that and politely end the call.\n\n7. Once you have the caller's name and the callee's name, immediately proceed to transfer the call. Do **not** ask for a message first. Say:\n> \"Let me put you through now, please hold the line.\"\nThen call the `TransferCall` tool straight away.\n\n8. After the `TransferCall` tool call, check the response:\n   - If the response says the transfer was **successful**, the call will be redirected automatically. You are done.\n   - If the response says the transfer **failed**, or if the caller is still on the line after a few moments, say:\n     > \"I'm sorry, I wasn't able to connect you right now. Would you like to leave a message so they can get back to you?\"\n   - If the caller wants to leave a message, collect it, then call the `SendMessage` tool with the full message.\n   - If the caller does not want to leave a message, let them know the staff member will be notified they called, and end the call politely.\n\n---\n\n# Call Flow — AFTER-HOURS MODE\n\n1. Greet the caller warmly, then let them know it is currently outside business hours:\n> \"Hi there, thanks for calling HDG Construction, Gibbons Rail and Total Rail Solutions. Just so you know, it's currently outside our usual office hours — that's 8am to 5pm, Monday to Friday. I won't be able to transfer your call right now, but I'd be happy to take a message and make sure the right person gets it.\"\n\n2. Ask for their name (if you don't already have it).\n\n3. Ask who the message is for (if you don't already know).\n\n4. If the call is a request for a quote or any form of sales enquiry, note that the message should be directed to Ron Williams.\n\n5. If the caller asks to speak to Susan Liu or the accounts department, let them know Susan is no longer with us and their message will go to Diana Chichester.\n\n6. Check the staff name against the internal staff directory (Staff Phone List.txt). If the name is ambiguous, ask the caller to clarify.\n\n7. Ask for their message.\n\n8. Once you have the caller's name, the intended recipient, and their message, confirm the details back to the caller, then say:\n> \"I'll make sure this message gets to them first thing. Thanks for calling!\"\n\n9. Call the `SendMessage` tool with all collected details, then end the call.\n\n## Urgent Calls — After-Hours Exception\n\nIf the caller says their call is **urgent** (or words to that effect such as \"emergency\", \"critical\", \"can't wait\"), switch to **business-hours mode** for that call. Say:\n> \"No problem — since this is urgent I'll do my best to get you connected right away.\"\n\nThen follow the **business-hours call flow** from step 3 (you will already have their name, so skip the name collection steps).\n\n---\n\n# Tools\n\nYou have two tools. Use the correct one depending on the mode:\n\n## `TransferCall` — Business Hours Only\nTransfers the caller's phone call to the staff member. This tool initiates a live call transfer. ONLY use this during **business-hours mode**. NEVER use this during after-hours mode.\n\nRequired fields:\n- `Callee_Name`: The full name of the staff member to transfer to\n- `Caller_Name`: The name of the caller\n- `Caller_Phone`: The caller's phone number — use `{{system__caller_id}}`\n- `caller_id`: The system caller ID — use `{{system__caller_id}}`\n- `call_sid`: The system call SID — use `{{system__call_sid}}`\n\n## `SendMessage` — After Hours or Failed Transfer\nSends a message to the staff member on behalf of the caller. Does NOT transfer the call. Use this during **after-hours mode**, or during business hours if a `TransferCall` attempt failed and the caller wants to leave a message.\n\nRequired fields:\n- `Callee_Name`: The full name of the staff member the message is for\n- `Caller_Name`: The name of the caller\n- `Caller_Phone`: The caller's phone number — use `{{system__caller_id}}`\n- `Caller_Message`: The caller's message\n- `caller_id`: The system caller ID — use `{{system__caller_id}}`\n- `call_sid`: The system call SID — use `{{system__call_sid}}`\n\nDo **not** delay or re-confirm the information. Call the appropriate tool immediately once you have all the required data.\n\nYou are very familiar with all the documents in the agent knowledgebase and can refer to them if a caller asks about the business.\n\n# Guardrails\n- Only take and forward callback requests or transfer the call.\n- Do not share opinions on unrelated topics, but you can discuss them.\n- End the call if the caller is abusive or uncooperative.\n- Gather the required information efficiently and then immediately call the appropriate tool.\n",
        "llm": "gemini-2.5-flash-lite",
        "reasoning_effort": null,
        "thinking_budget": 0,
        "temperature": 0.5,
        "max_tokens": -1,
        "tool_ids": ["TZlsvHHsDWsrO4BadvS5"],
        "built_in_tools": {
          "end_call": {
            "type": "system",
            "name": "end_call",
            "description": "",
            "response_timeout_secs": 20,
            "disable_interruptions": false,
            "force_pre_tool_speech": false,
            "assignments": [],
            "tool_call_sound": null,
            "tool_call_sound_behavior": "auto",
            "tool_error_handling_mode": "auto",
            "params": {
              "system_tool_type": "end_call"
            }
          },
          "language_detection": {
            "type": "system",
            "name": "language_detection",
            "description": "",
            "response_timeout_secs": 20,
            "disable_interruptions": false,
            "force_pre_tool_speech": false,
            "assignments": [],
            "tool_call_sound": null,
            "tool_call_sound_behavior": "auto",
            "tool_error_handling_mode": "auto",
            "params": {
              "system_tool_type": "language_detection"
            }
          },
          "transfer_to_agent": null,
          "transfer_to_number": null,
          "skip_turn": null,
          "play_keypad_touch_tone": null,
          "voicemail_detection": null,
          "search_documentation": null
        },
        "enable_parallel_tool_calls": false,
        "mcp_server_ids": [],
        "native_mcp_server_ids": [],
        "knowledge_base": [
          {
            "type": "file",
            "name": "Staff Phone List.txt",
            "id": "8KqZXEyfT6Vazyr6MTAc",
            "usage_mode": "auto"
          },
          {
            "type": "url",
            "name": "Harris Dowd Gibbons Construction | Specialists in civil engineering and structural concrete solutions.",
            "id": "92reYdpYEr2Trsi5qfiP",
            "usage_mode": "auto"
          },
          {
            "type": "url",
            "name": "Total Rail Solutions | A strategic partnership bringing a new level of competition and expertise to New Zealand's rail sector.",
            "id": "v6FQvsTg1AyL3bXlFLH9",
            "usage_mode": "auto"
          },
          {
            "type": "file",
            "name": "HDG_Construction_About_Us.pdf",
            "id": "U2US3e8zzUqlTj8LL3EV",
            "usage_mode": "auto"
          }
        ],
        "custom_llm": null,
        "ignore_default_personality": false,
        "rag": {
          "enabled": true,
          "embedding_model": "e5_mistral_7b_instruct",
          "max_vector_distance": 0.6,
          "max_documents_length": 50000,
          "max_retrieved_rag_chunks_count": 20,
          "query_rewrite_prompt_override": null
        },
        "timezone": "Pacific/Auckland",
        "backup_llm_config": {
          "preference": "default"
        },
        "cascade_timeout_seconds": 8.0,
        "tools": [
          {
            "type": "webhook",
            "name": "TransferCall",
            "description": "Transfers the caller to a staff member during business hours. Notifies the staff member and initiates a phone transfer. Only use this tool during BUSINESS-HOURS MODE.",
            "response_timeout_secs": 20,
            "disable_interruptions": false,
            "force_pre_tool_speech": false,
            "assignments": [],
            "tool_call_sound": null,
            "tool_call_sound_behavior": "auto",
            "tool_error_handling_mode": "auto",
            "dynamic_variables": {
              "dynamic_variable_placeholders": {}
            },
            "execution_mode": "immediate",
            "api_schema": {
              "request_headers": {
                "Content-Type": "application/json"
              },
              "url": "https://receptionisthdg.azurewebsites.net/transfer-call",
              "method": "POST",
              "path_params_schema": {},
              "query_params_schema": null,
              "request_body_schema": {
                "type": "object",
                "required": [
                  "Callee_Name",
                  "Caller_Name",
                  "Caller_Phone",
                  "caller_id",
                  "call_sid"
                ],
                "description": "Transfer a call to a staff member. Used during business hours only.",
                "properties": {
                  "call_sid": {
                    "type": "string",
                    "description": "",
                    "enum": null,
                    "is_system_provided": false,
                    "dynamic_variable": "system__call_sid",
                    "constant_value": ""
                  },
                  "caller_id": {
                    "type": "string",
                    "description": "",
                    "enum": null,
                    "is_system_provided": false,
                    "dynamic_variable": "system__caller_id",
                    "constant_value": ""
                  },
                  "Callee_Name": {
                    "type": "string",
                    "description": "The full name of the staff member to transfer to.",
                    "enum": null,
                    "is_system_provided": false,
                    "dynamic_variable": "",
                    "constant_value": ""
                  },
                  "Caller_Name": {
                    "type": "string",
                    "description": "The caller's name.",
                    "enum": null,
                    "is_system_provided": false,
                    "dynamic_variable": "",
                    "constant_value": ""
                  },
                  "Caller_Phone": {
                    "type": "string",
                    "description": "The caller's phone number.",
                    "enum": null,
                    "is_system_provided": false,
                    "dynamic_variable": "",
                    "constant_value": ""
                  }
                }
              },
              "content_type": "application/json",
              "auth_connection": null
            }
          },
          {
            "type": "webhook",
            "name": "SendMessage",
            "description": "Sends a message to a staff member on behalf of the caller. Used during AFTER-HOURS MODE or when a transfer fails. Does NOT transfer the call.",
            "response_timeout_secs": 20,
            "disable_interruptions": false,
            "force_pre_tool_speech": false,
            "assignments": [],
            "tool_call_sound": null,
            "tool_call_sound_behavior": "auto",
            "tool_error_handling_mode": "auto",
            "dynamic_variables": {
              "dynamic_variable_placeholders": {}
            },
            "execution_mode": "immediate",
            "api_schema": {
              "request_headers": {
                "Content-Type": "application/json"
              },
              "url": "https://receptionisthdg.azurewebsites.net/send-message",
              "method": "POST",
              "path_params_schema": {},
              "query_params_schema": null,
              "request_body_schema": {
                "type": "object",
                "required": [
                  "Callee_Name",
                  "Caller_Name",
                  "Caller_Phone",
                  "Caller_Message",
                  "caller_id",
                  "call_sid"
                ],
                "description": "Send a message to a staff member. Used after hours or when transfer fails.",
                "properties": {
                  "call_sid": {
                    "type": "string",
                    "description": "",
                    "enum": null,
                    "is_system_provided": false,
                    "dynamic_variable": "system__call_sid",
                    "constant_value": ""
                  },
                  "caller_id": {
                    "type": "string",
                    "description": "",
                    "enum": null,
                    "is_system_provided": false,
                    "dynamic_variable": "system__caller_id",
                    "constant_value": ""
                  },
                  "Callee_Name": {
                    "type": "string",
                    "description": "The full name of the staff member the message is for.",
                    "enum": null,
                    "is_system_provided": false,
                    "dynamic_variable": "",
                    "constant_value": ""
                  },
                  "Caller_Name": {
                    "type": "string",
                    "description": "The caller's name.",
                    "enum": null,
                    "is_system_provided": false,
                    "dynamic_variable": "",
                    "constant_value": ""
                  },
                  "Caller_Phone": {
                    "type": "string",
                    "description": "The caller's phone number.",
                    "enum": null,
                    "is_system_provided": false,
                    "dynamic_variable": "",
                    "constant_value": ""
                  },
                  "Caller_Message": {
                    "type": "string",
                    "description": "The caller's message.",
                    "enum": null,
                    "is_system_provided": false,
                    "dynamic_variable": "",
                    "constant_value": ""
                  }
                }
              },
              "content_type": "application/json",
              "auth_connection": null
            }
          },
          {
            "type": "system",
            "name": "end_call",
            "description": "",
            "response_timeout_secs": 20,
            "disable_interruptions": false,
            "force_pre_tool_speech": false,
            "assignments": [],
            "tool_call_sound": null,
            "tool_call_sound_behavior": "auto",
            "tool_error_handling_mode": "auto",
            "params": {
              "system_tool_type": "end_call"
            }
          },
          {
            "type": "system",
            "name": "language_detection",
            "description": "",
            "response_timeout_secs": 20,
            "disable_interruptions": false,
            "force_pre_tool_speech": false,
            "assignments": [],
            "tool_call_sound": null,
            "tool_call_sound_behavior": "auto",
            "tool_error_handling_mode": "auto",
            "params": {
              "system_tool_type": "language_detection"
            }
          }
        ]
      }
    }
  },
  "metadata": {
    "created_at_unix_secs": 1751070827,
    "updated_at_unix_secs": 1762230750
  },
  "phone_numbers": [
    {
      "phone_number": "+6498867435",
      "label": "HDG Reception",
      "supports_inbound": true,
      "supports_outbound": true,
      "phone_number_id": "phnum_01jyt28g9eezkb1k0bc1fe8jjd",
      "assigned_agent": {
        "agent_id": "agent_01jysz8r0bejrvx2d9wv8gckca",
        "agent_name": "Lauren The Receptionist"
      },
      "provider": "twilio"
    }
  ]
}
